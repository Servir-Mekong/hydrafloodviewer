{% extends "layout.html" %}
{% load cms_tags staticfiles %}
{% block extra_script %}
<script src="{% static 'data/mmr_adm0.js' %}"></script>
<script src="{% static 'data/mmr_adm2.js' %}"></script>
<script src="{% static 'data/mmr_adm3.js' %}"></script>
{% endblock %}
{% block main_container %}


<!-- Main Container -->
<div class="row" ng-controller="hydrafloodviewer">
  <!-- Loader Container -->
  <div id="loader" class="loader" ng-show="showLoader">
    <i class="loading-img fas fa-spinner fa-pulse fa-4x"></i>
  </div>
  <!-- Alert Container -->
  <div class="alert alert-dismissible text-center display-none custom-alert" role="alert">
    <button type="button" class="close" ng-click="closeAlert()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>[[alertContent]]</strong>
  </div>

  <!-- Left Munu -->
  {% include "panels/left-menu.html" %}

  <!-- Map Container -->
  <div class="map" id="map" ng-init="getAvailabelDate(); getpermanentwater('2010', '2015', '01', '12', 'discrete', '#00008b');">
    <div class="control-panel map-component">
      <div class="scalebar-container"></div>
      <!-- Map Munu -->
      {% include "panels/map-menu.html" %}
    </div>
  </div>

  <div id="layers" name="layers" data-historical-url="{{historical_layer}}" data-admin-url="{{admin_layer}}" data-flood-url="{{flood_layer}}" style="display:none;"></div>

  <div class="infobox" id="legend-info-box">
    <span>
      You can change a water color by clicking on a color box.
    </span>
  </div>

  {% include "panels/draw-tool-panel.html" %}

  {% include "panels/legendbox.html" %}

</div>

</div>
{% endblock main_container %}
